package com.example.polyschedule.presentation

import android.os.Bundle
import android.view.View
import android.widget.TextView
import androidx.appcompat.app.AppCompatActivity
import androidx.constraintlayout.widget.ConstraintLayout
import androidx.recyclerview.widget.LinearLayoutManager
import androidx.recyclerview.widget.RecyclerView
import com.example.polyschedule.presentation.adapter.GroupAdapter
import com.example.polyschedule.R
import com.example.polyschedule.domain.Institute
import com.example.polyschedule.domain.Speciality
import com.example.polyschedule.presentation.adapter.InstituteAdapter
import com.google.android.material.appbar.AppBarLayout
import org.json.JSONObject
import java.net.URL
import kotlin.concurrent.thread
import com.example.polyschedule.presentation.MainViewModel.Companion.COURSE1
import com.example.polyschedule.presentation.MainViewModel.Companion.COURSE2
import com.example.polyschedule.presentation.MainViewModel.Companion.COURSE3
import com.example.polyschedule.presentation.MainViewModel.Companion.COURSE4
import com.example.polyschedule.presentation.MainViewModel.Companion.COURSE5
import com.example.polyschedule.presentation.MainViewModel.Companion.COURSE_CHOOSEN
import com.example.polyschedule.presentation.MainViewModel.Companion.INSTITUTE_CHOOSEN


class MainActivity : AppCompatActivity() {


    private lateinit var seleckedCourse: View
    var allGroups = mutableListOf<Speciality>()
    lateinit var recyclerViewGroup: RecyclerView
    lateinit var groupAdapter: GroupAdapter
    lateinit var speciality: TextView
    lateinit var recyclerViewInstitute: RecyclerView
    lateinit var coursesLayout: ConstraintLayout
    private lateinit var mainViewModel: MainViewModel

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        initViews()
        recyclerViewGroup = findViewById(R.id.groupRV)
        recyclerViewGroup.layoutManager = LinearLayoutManager(this)
        groupAdapter = GroupAdapter(allGroups)
        recyclerViewGroup.adapter = groupAdapter
        speciality = findViewById(R.id.specialityTV)
        val appbar = findViewById<AppBarLayout>(R.id.appbar)
        coursesLayout = findViewById(R.id.coursesLayout)
        recyclerViewInstitute = findViewById(R.id.instituteRV)
        mainViewModel = MainViewModel()



        thread {
            val institutes = mainViewModel.getInstitute()
            runOnUiThread {
                recyclerViewInstitute.layoutManager = LinearLayoutManager(this)
                recyclerViewInstitute.adapter = InstituteAdapter(institutes.chunked(3))
            }
        }
        appbar.addOnOffsetChangedListener(AppBarLayout.OnOffsetChangedListener() { appBarLayout, verticalOffset ->
            val offsetAlpha = appBarLayout.y / appbar.totalScrollRange
            recyclerViewInstitute.alpha = 1 - offsetAlpha * -1.8f
            coursesLayout.alpha = 1 - offsetAlpha * -2.4f
        })
        val course1 = findViewById<TextView>(R.id.course1)
        course1.setOnClickListener{ clicked(it, COURSE1)}
        val course2 = findViewById<TextView>(R.id.course2)
        course2.setOnClickListener{ clicked(it, COURSE2)}
        val course3 = findViewById<TextView>(R.id.course3)
        course3.setOnClickListener{ clicked(it, COURSE3)}
        val course4 = findViewById<TextView>(R.id.course4)
        course4.setOnClickListener{ clicked(it, COURSE4)}
        val course5 = findViewById<TextView>(R.id.course5)
        course5.setOnClickListener{ clicked(it, COURSE5)}
    }




//        codeView.setText(Html.fromHtml("<pre class=\"kotlin\" style=\"font-family:monospace;\"><ol><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #000000; font-weight: bold;\">data</span> <span style=\"color: #000000; font-weight: bold;\">class</span> <span style=\"color: #003399;\">Point</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #000000; font-weight: bold;\">val</span> x<span style=\"color: #339933;\">:</span> <span style=\"color: #000066; font-weight: bold;\">Double</span>, <span style=\"color: #000000; font-weight: bold;\">val</span> y<span style=\"color: #339933;\">:</span> <span style=\"color: #000066; font-weight: bold;\">Double</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #009900;\">&#123;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #008000; font-style: italic; font-weight: bold;\">/**</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Пример</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    *</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Рассчитать (по известной формуле) расстояние между двумя точками</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    */</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">fun</span> distance<span style=\"color: #009900;\">&#40;</span>other<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span><span style=\"color: #009900;\">&#41;</span><span style=\"color: #339933;\">:</span> <span style=\"color: #000066; font-weight: bold;\">Double</span> <span style=\"color: #339933;\">=</span> sqrt<span style=\"color: #009900;\">&#40;</span>sqr<span style=\"color: #009900;\">&#40;</span>x <span style=\"color: #339933;\">-</span> other.<span style=\"color: #006633;\">x</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">+</span> sqr<span style=\"color: #009900;\">&#40;</span>y <span style=\"color: #339933;\">-</span> other.<span style=\"color: #006633;\">y</span><span style=\"color: #009900;\">&#41;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #009900;\">&#125;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">/**</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;* Треугольник, заданный тремя точками (a, b, c, см. constructor ниже).</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;* Эти три точки хранятся в множестве points, их порядок не имеет значения.</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;*/</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">@Suppress<span style=\"color: #009900;\">&#40;</span><span style=\"color: #0000ff;\">&quot;MemberVisibilityCanBePrivate&quot;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #000000; font-weight: bold;\">class</span> Triangle <span style=\"color: #000000; font-weight: bold;\">private</span> <span style=\"color: #000000; font-weight: bold;\">constructor</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #000000; font-weight: bold;\">private</span> <span style=\"color: #000000; font-weight: bold;\">val</span> points<span style=\"color: #339933;\">:</span> Set<span style=\"color: #339933;\">&lt;</span>Point<span style=\"color: #339933;\">&gt;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #009900;\">&#123;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">private</span> <span style=\"color: #000000; font-weight: bold;\">val</span> pointList <span style=\"color: #339933;\">=</span> points.<span style=\"color: #006633;\">toList</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">val</span> a<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span> <span style=\"color: #000000; font-weight: bold;\">get</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">=</span> pointList<span style=\"color: #009900;\">&#91;</span><span style=\"color: #cc66cc;\">0</span><span style=\"color: #009900;\">&#93;</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">val</span> b<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span> <span style=\"color: #000000; font-weight: bold;\">get</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">=</span> pointList<span style=\"color: #009900;\">&#91;</span><span style=\"color: #cc66cc;\">1</span><span style=\"color: #009900;\">&#93;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">val</span> c<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span> <span style=\"color: #000000; font-weight: bold;\">get</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">=</span> pointList<span style=\"color: #009900;\">&#91;</span><span style=\"color: #cc66cc;\">2</span><span style=\"color: #009900;\">&#93;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">constructor</span><span style=\"color: #009900;\">&#40;</span>a<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span>, b<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span>, c<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">:</span> <span style=\"color: #000000; font-weight: bold;\">this</span><span style=\"color: #009900;\">&#40;</span>linkedSetOf<span style=\"color: #009900;\">&#40;</span>a, b, c<span style=\"color: #009900;\">&#41;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #008000; font-style: italic; font-weight: bold;\">/**</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Пример: полупериметр</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    */</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">fun</span> halfPerimeter<span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">=</span> <span style=\"color: #009900;\">&#40;</span>a.<span style=\"color: #006633;\">distance</span><span style=\"color: #009900;\">&#40;</span>b<span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">+</span> b.<span style=\"color: #006633;\">distance</span><span style=\"color: #009900;\">&#40;</span>c<span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">+</span> c.<span style=\"color: #006633;\">distance</span><span style=\"color: #009900;\">&#40;</span>a<span style=\"color: #009900;\">&#41;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">/</span> <span style=\"color: #cc66cc;\">2.0</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #008000; font-style: italic; font-weight: bold;\">/**</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Пример: площадь</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    */</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">fun</span> area<span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span><span style=\"color: #339933;\">:</span> <span style=\"color: #000066; font-weight: bold;\">Double</span> <span style=\"color: #009900;\">&#123;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">        <span style=\"color: #000000; font-weight: bold;\">val</span> p <span style=\"color: #339933;\">=</span> halfPerimeter<span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">        <span style=\"color: #000000; font-weight: bold;\">return</span> sqrt<span style=\"color: #009900;\">&#40;</span>p <span style=\"color: #339933;\">*</span> <span style=\"color: #009900;\">&#40;</span>p <span style=\"color: #339933;\">-</span> a.<span style=\"color: #006633;\">distance</span><span style=\"color: #009900;\">&#40;</span>b<span style=\"color: #009900;\">&#41;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">*</span> <span style=\"color: #009900;\">&#40;</span>p <span style=\"color: #339933;\">-</span> b.<span style=\"color: #006633;\">distance</span><span style=\"color: #009900;\">&#40;</span>c<span style=\"color: #009900;\">&#41;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">*</span> <span style=\"color: #009900;\">&#40;</span>p <span style=\"color: #339933;\">-</span> c.<span style=\"color: #006633;\">distance</span><span style=\"color: #009900;\">&#40;</span>a<span style=\"color: #009900;\">&#41;</span><span style=\"color: #009900;\">&#41;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #009900;\">&#125;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #008000; font-style: italic; font-weight: bold;\">/**</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Пример: треугольник содержит точку</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    */</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">fun</span> contains<span style=\"color: #009900;\">&#40;</span>p<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span><span style=\"color: #009900;\">&#41;</span><span style=\"color: #339933;\">:</span> <span style=\"color: #000066; font-weight: bold;\">Boolean</span> <span style=\"color: #009900;\">&#123;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">        <span style=\"color: #000000; font-weight: bold;\">val</span> abp <span style=\"color: #339933;\">=</span> Triangle<span style=\"color: #009900;\">&#40;</span>a, b, p<span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">        <span style=\"color: #000000; font-weight: bold;\">val</span> bcp <span style=\"color: #339933;\">=</span> Triangle<span style=\"color: #009900;\">&#40;</span>b, c, p<span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">        <span style=\"color: #000000; font-weight: bold;\">val</span> cap <span style=\"color: #339933;\">=</span> Triangle<span style=\"color: #009900;\">&#40;</span>c, a, p<span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">        <span style=\"color: #000000; font-weight: bold;\">return</span> abp.<span style=\"color: #006633;\">area</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">+</span> bcp.<span style=\"color: #006633;\">area</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">+</span> cap.<span style=\"color: #006633;\">area</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">&lt;=</span> area<span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #009900;\">&#125;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">override</span> <span style=\"color: #000000; font-weight: bold;\">fun</span> equals<span style=\"color: #009900;\">&#40;</span>other<span style=\"color: #339933;\">:</span> <span style=\"color: #000066; font-weight: bold;\">Any</span><span style=\"color: #339933;\">?</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">=</span> other <span style=\"color: #000000; font-weight: bold;\">is</span> Triangle <span style=\"color: #339933;\">&amp;&amp;</span> points <span style=\"color: #339933;\">==</span> other.<span style=\"color: #006633;\">points</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">override</span> <span style=\"color: #000000; font-weight: bold;\">fun</span> hashCode<span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #339933;\">=</span> points.<span style=\"color: #006633;\">hashCode</span><span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #009900;\">&#125;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">/**</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;* Окружность с заданным центром и радиусом</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;*/</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #000000; font-weight: bold;\">data</span> <span style=\"color: #000000; font-weight: bold;\">class</span> Circle<span style=\"color: #009900;\">&#40;</span><span style=\"color: #000000; font-weight: bold;\">val</span> center<span style=\"color: #339933;\">:</span> <span style=\"color: #003399;\">Point</span>, <span style=\"color: #000000; font-weight: bold;\">val</span> radius<span style=\"color: #339933;\">:</span> <span style=\"color: #000066; font-weight: bold;\">Double</span><span style=\"color: #009900;\">&#41;</span> <span style=\"color: #009900;\">&#123;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #008000; font-style: italic; font-weight: bold;\">/**</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Простая (2 балла)</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    *</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Рассчитать расстояние между двумя окружностями.</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Расстояние между непересекающимися окружностями рассчитывается как</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * расстояние между их центрами минус сумма их радиусов.</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    * Расстояние между пересекающимися окружностями считать равным 0.0.</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\"><span style=\"color: #008000; font-style: italic; font-weight: bold;\">&nbsp;    */</span></div></li><li style=\"font-weight: bold; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">    <span style=\"color: #000000; font-weight: bold;\">fun</span> distance<span style=\"color: #009900;\">&#40;</span>other<span style=\"color: #339933;\">:</span> Circle<span style=\"color: #009900;\">&#41;</span><span style=\"color: #339933;\">:</span> <span style=\"color: #000066; font-weight: bold;\">Double</span> <span style=\"color: #339933;\">=</span> TODO<span style=\"color: #009900;\">&#40;</span><span style=\"color: #009900;\">&#41;</span></div></li><li style=\"font-weight: normal; vertical-align:top;\"><div style=\"font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;\">&nbsp;</div></li></ol></pre>"))    }
    private fun initViews(){

    }
    private fun clicked(nowButton:View, course: Int){

        nowButton.setBackgroundResource(R.color.black)
        if (this::seleckedCourse.isInitialized) { seleckedCourse.setBackgroundResource(R.color.black)}
        seleckedCourse = nowButton
        COURSE_CHOOSEN = course
        if (COURSE_CHOOSEN != null && INSTITUTE_CHOOSEN != null) {
            speciality.visibility = View.VISIBLE
            thread {
                mainViewModel.updateRVGroupList(allGroups)
                runOnUiThread{
                    groupAdapter.notifyDataSetChanged()
                }
            }


        }

    }



}